<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Friend Finder Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

  <div class="container">

    <div class="row">
      <div class="col-lg-12">
<!-- About You -->

        <div class="card">
          <div class="card-header">
            <h3>About You</h3>
          </div>
          <div class="card-body">
            <form role="form">
              <div class="form-group">
                <label for="name">Name (required)</label>
                <input type="text" class="form-control" id="name">
              </div>
              <div class="form-group">
                <label for="photo">Link to Photo Image (required)</label>
                <input type="text" class="form-control" id="photo">
                <hr>
              </div>

<!--Questions-->

        <div class="form-group">
            <br>
            <h4>Question 1</h4>
            <h5>Do you like to travel?</h5>
                <select class="form-control" id="question1">
                     <option disabled selected>Select an option</option>
                     <option>1 (Strongly disagree)</option>
                     <option>2 </option>
                     <option>3 </option>
                     <option>4 </option>
                     <option>5 (Strongly agree)</option>  
                </select>
                <br>

            <h4>Question 2</h4>
            <h5>Would you consider yourself outgoing?</h5>
                <select class="form-control" id="question2">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 3</h4>
            <h5>Do you enjoy time alone?</h5>
                <select class="form-control" id="question3">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 4</h4>
            <h5>Do you care what others think of you?</h5>
                <select class="form-control" id="question4">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 5</h4>
            <h5>Do you find it easy to relate to others?</h5>
                <select class="form-control" id="question5">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 6</h4>
            <h5>Do you enjoy hanging out in large groups?</h5>
                <select class="form-control" id="question6">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 7</h4>
            <h5>Do you feel more entergetic after hanging out with a group of people?</h5>
                <select class="form-control" id="question7">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 8</h4>
            <h5>Do you consider yourself spontanious?</h5>
                <select class="form-control" id="question8">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 9</h4>
            <h5>Are you shy in front of strangers?</h5>
                <select class="form-control" id="question9">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>

            <h4>Question 10</h4>
            <h5>Do you make friends easily?</h5>
                <select class="form-control" id="question10">
                    <option disabled selected>Select an option</option>
                    <option>1 (Strongly disagree)</option>
                    <option>2 </option>
                    <option>3 </option>
                    <option>4 </option>
                    <option>5 (Strongly agree)</option>
                </select>
                <br>
        </div>



              <button type="submit" class="btn btn-dark submit" id= "submit">Find my Friend!!!!</button>
            </form>
          </div>
        </div>
      </div>
    </div>


    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/laurenkerns/friendfinder">GitHub Repo</a>
      </div>
    </footer>

    <!--MODAL to show new best friend/ best friend match!-->
    <div id="newFriend-modal" class="modal fade" role="dialog">
      <div class="modal-dialog">
  
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h2 class="modal-title"><strong>Meet your new BEST FRIEND!</strong></h2>
          </div>
          <div class="modal-body">
            <h2 id="nfName"></h2>
            <img id="nfPhoto">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
  
      </div>
    </div>

<!--end container div-->
  </div>

<!--SCRIPT-->
<!--This code will be how out form handles data...JS will post form data to express server-->
<script type = "text/javascript">

$("#sumbit").on("click", function(event){
  event.preventDefault();

  //grab form elements
  const newFriend = {
    name: $("#name").val().trim(),
    photo: $("#photo").val().trim(),
    scores: [
      $("#question1").val().trim(),
      $("#question2").val().trim(),
      $("#question3").val().trim(),
      $("#question4").val().trim(),
      $("#question5").val().trim(),
      $("#question6").val().trim(),
      $("#question7").val().trim(),
      $("#question8").val().trim(),
      $("#question9").val().trim(),
      $("#question10").val().trim(),
    ]
  }

  console.log(newFriend);

  //give it a URL, we give it the object we want to send, then we have a "callback".
  // The callback is the response of the server

  $.post("api/friends", newFriend, function(data){
      $("#nfName").text(data.nfName);
      $("#nfPhoto").attr("src", data.nfPhoto);
    
    //show modal
    $("#newFriend-modal").modal("toggle");
    })
})




</script>

</body>

</html>